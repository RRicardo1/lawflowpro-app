<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SMB AI Platform - AI-Powered Business Automation</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'zapier-orange': '#FF4A00',
                        'zapier-dark': '#1C1C1E',
                        'zapier-gray': '#6B7280'
                    }
                }
            }
        }
    </script>
    <style>
        .active-tab {
            color: #FF4A00;
            border-bottom: 2px solid #FF4A00;
        }
        .integration-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        .workflow-step {
            position: relative;
        }
        .workflow-step:not(:last-child)::after {
            content: '';
            position: absolute;
            top: 50px;
            left: 24px;
            width: 2px;
            height: 30px;
            background: #E5E7EB;
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Zapier-Style Header -->
    <header class="bg-white border-b border-gray-200 shadow-sm sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo Section (Zapier Style) -->
                <div class="flex items-center space-x-3">
                    <div class="w-8 h-8 bg-zapier-orange rounded-lg flex items-center justify-center">
                        <span class="text-white font-bold text-sm">AI</span>
                    </div>
                    <div>
                        <h1 class="text-xl font-bold text-gray-900">SMB AI Platform</h1>
                        <p class="text-xs text-gray-500">AI-Powered Business Automation</p>
                    </div>
                </div>

                <!-- Navigation Tabs (Zapier Style) -->
                <nav class="hidden md:flex space-x-8">
                    <button onclick="showTab('home')" id="tab-home" class="px-3 py-2 text-sm font-medium border-b-2 border-transparent hover:text-gray-900 transition-colors active-tab">
                        Home
                    </button>
                    <button onclick="showTab('workflows')" id="tab-workflows" class="px-3 py-2 text-sm font-medium text-zapier-gray border-b-2 border-transparent hover:text-gray-900 transition-colors">
                        My Workflows
                    </button>
                    <button onclick="showTab('apps')" id="tab-apps" class="px-3 py-2 text-sm font-medium text-zapier-gray border-b-2 border-transparent hover:text-gray-900 transition-colors">
                        Apps
                    </button>
                    <button onclick="showTab('ai-insights')" id="tab-ai-insights" class="px-3 py-2 text-sm font-medium text-zapier-gray border-b-2 border-transparent hover:text-gray-900 transition-colors">
                        AI Insights
                    </button>
                </nav>

                <!-- Right Side (Zapier Style) -->
                <div class="flex items-center space-x-4">
                    <div class="hidden md:flex items-center space-x-2 px-3 py-1 bg-green-100 text-green-800 rounded-full text-xs font-medium">
                        <div class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></div>
                        <span id="backend-status">AI Active</span>
                    </div>
                    <button class="bg-zapier-orange text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-orange-600 transition-colors">
                        Create Workflow
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content Area -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        
        <!-- Home Tab Content -->
        <div id="content-home" class="space-y-8">
            <!-- Welcome Section (Zapier Style) -->
            <div class="bg-gradient-to-r from-zapier-orange to-red-500 rounded-xl p-8 text-white">
                <div class="max-w-3xl">
                    <h2 class="text-3xl font-bold mb-4">Automate your business with AI</h2>
                    <p class="text-lg mb-6 text-orange-100">Save 15-20 hours per week with intelligent email processing, smart scheduling, and automated responses tailored for your industry.</p>
                    <div class="flex space-x-4">
                        <button onclick="testAPI('signup')" class="bg-white text-zapier-orange px-6 py-3 rounded-lg font-medium hover:bg-gray-100 transition-colors">
                            Get Started Free
                        </button>
                        <button onclick="showTab('workflows')" class="border border-white text-white px-6 py-3 rounded-lg font-medium hover:bg-white hover:text-zapier-orange transition-colors">
                            View Workflows
                        </button>
                    </div>
                </div>
            </div>

            <!-- Stats Cards (Zapier Style) -->
            <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
                <div class="bg-white rounded-lg border border-gray-200 p-6">
                    <div class="flex items-center justify-between mb-2">
                        <div class="p-2 bg-blue-100 rounded-lg">
                            <span class="text-blue-600 text-xl">üìß</span>
                        </div>
                        <span class="text-xs text-green-600 font-medium">‚Üó +12%</span>
                    </div>
                    <h3 class="text-2xl font-bold text-gray-900" id="emails-processed">0</h3>
                    <p class="text-sm text-gray-600">Emails processed</p>
                </div>

                <div class="bg-white rounded-lg border border-gray-200 p-6">
                    <div class="flex items-center justify-between mb-2">
                        <div class="p-2 bg-green-100 rounded-lg">
                            <span class="text-green-600 text-xl">‚è∞</span>
                        </div>
                        <span class="text-xs text-green-600 font-medium">‚Üó +8h</span>
                    </div>
                    <h3 class="text-2xl font-bold text-gray-900" id="time-saved">0h</h3>
                    <p class="text-sm text-gray-600">Time saved this week</p>
                </div>

                <div class="bg-white rounded-lg border border-gray-200 p-6">
                    <div class="flex items-center justify-between mb-2">
                        <div class="p-2 bg-purple-100 rounded-lg">
                            <span class="text-purple-600 text-xl">üîå</span>
                        </div>
                        <span class="text-xs text-purple-600 font-medium bg-purple-100 px-2 py-1 rounded">+2 new</span>
                    </div>
                    <h3 class="text-2xl font-bold text-gray-900" id="integrations-count">0</h3>
                    <p class="text-sm text-gray-600">Connected apps</p>
                </div>

                <div class="bg-white rounded-lg border border-gray-200 p-6">
                    <div class="flex items-center justify-between mb-2">
                        <div class="p-2 bg-zapier-orange bg-opacity-10 rounded-lg">
                            <span class="text-zapier-orange text-xl">‚ö°</span>
                        </div>
                        <span class="text-xs text-zapier-orange font-medium bg-orange-100 px-2 py-1 rounded">Active</span>
                    </div>
                    <h3 class="text-2xl font-bold text-gray-900" id="workflows-count">0</h3>
                    <p class="text-sm text-gray-600">Running workflows</p>
                </div>
            </div>

            <!-- Quick Start Section -->
            <div class="bg-white rounded-lg border border-gray-200 p-8">
                <div class="text-center mb-8">
                    <h3 class="text-2xl font-bold text-gray-900 mb-2">Test your AI automation</h3>
                    <p class="text-gray-600">Try these live demos to see how AI can transform your business</p>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                    <button onclick="testAPI('signup')" class="text-left p-6 rounded-lg border border-gray-200 hover:border-zapier-orange hover:shadow-md transition-all group">
                        <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4 group-hover:bg-blue-200 transition-colors">
                            <span class="text-blue-600 text-xl">üë§</span>
                        </div>
                        <h4 class="font-semibold text-gray-900 mb-2">Register User</h4>
                        <p class="text-sm text-gray-600">Create a demo account to test AI features</p>
                        <span class="text-zapier-orange text-sm font-medium">Try it ‚Üí</span>
                    </button>

                    <button onclick="testAPI('classify')" class="text-left p-6 rounded-lg border border-gray-200 hover:border-zapier-orange hover:shadow-md transition-all group">
                        <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mb-4 group-hover:bg-green-200 transition-colors">
                            <span class="text-green-600 text-xl">ü§ñ</span>
                        </div>
                        <h4 class="font-semibold text-gray-900 mb-2">AI Email Analysis</h4>
                        <p class="text-sm text-gray-600">Watch AI classify and prioritize emails</p>
                        <span class="text-zapier-orange text-sm font-medium">Test AI ‚Üí</span>
                    </button>

                    <button onclick="testAPI('response')" class="text-left p-6 rounded-lg border border-gray-200 hover:border-zapier-orange hover:shadow-md transition-all group">
                        <div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4 group-hover:bg-purple-200 transition-colors">
                            <span class="text-purple-600 text-xl">‚ú®</span>
                        </div>
                        <h4 class="font-semibold text-gray-900 mb-2">Generate Responses</h4>
                        <p class="text-sm text-gray-600">AI creates professional email replies</p>
                        <span class="text-zapier-orange text-sm font-medium">Generate ‚Üí</span>
                    </button>

                    <button onclick="testAPI('integration')" class="text-left p-6 rounded-lg border border-gray-200 hover:border-zapier-orange hover:shadow-md transition-all group">
                        <div class="w-12 h-12 bg-zapier-orange bg-opacity-10 rounded-lg flex items-center justify-center mb-4 group-hover:bg-opacity-20 transition-colors">
                            <span class="text-zapier-orange text-xl">üîå</span>
                        </div>
                        <h4 class="font-semibold text-gray-900 mb-2">Connect Apps</h4>
                        <p class="text-sm text-gray-600">Link Gmail and start automation</p>
                        <span class="text-zapier-orange text-sm font-medium">Connect ‚Üí</span>
                    </button>
                </div>
            </div>

            <!-- Business Impact Section -->
            <div class="bg-white rounded-lg border border-gray-200 p-8">
                <h3 class="text-2xl font-bold text-gray-900 mb-6">Business impact this week</h3>
                <div class="space-y-4">
                    <div class="flex items-center justify-between p-4 bg-green-50 rounded-lg border border-green-200">
                        <div class="flex items-center space-x-3">
                            <div class="w-8 h-8 bg-green-100 rounded-full flex items-center justify-center">
                                <span class="text-green-600 text-sm">üìà</span>
                            </div>
                            <div>
                                <h4 class="font-semibold text-green-900">Urgent emails prioritized</h4>
                                <p class="text-sm text-green-700">23 high-priority client emails auto-flagged</p>
                            </div>
                        </div>
                        <span class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium">+92% efficiency</span>
                    </div>

                    <div class="flex items-center justify-between p-4 bg-blue-50 rounded-lg border border-blue-200">
                        <div class="flex items-center space-x-3">
                            <div class="w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center">
                                <span class="text-blue-600 text-sm">‚úçÔ∏è</span>
                            </div>
                            <div>
                                <h4 class="font-semibold text-blue-900">Professional responses generated</h4>
                                <p class="text-sm text-blue-700">AI created 45 business-appropriate replies</p>
                            </div>
                        </div>
                        <span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium">15h saved</span>
                    </div>

                    <div class="flex items-center justify-between p-4 bg-purple-50 rounded-lg border border-purple-200">
                        <div class="flex items-center space-x-3">
                            <div class="w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center">
                                <span class="text-purple-600 text-sm">üí∞</span>
                            </div>
                            <div>
                                <h4 class="font-semibold text-purple-900">Revenue opportunities detected</h4>
                                <p class="text-sm text-purple-700">8 potential high-value clients identified</p>
                            </div>
                        </div>
                        <span class="bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm font-medium">$12k potential</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Workflows Tab -->
        <div id="content-workflows" class="space-y-6" style="display: none;">
            <div class="flex justify-between items-center">
                <div>
                    <h2 class="text-2xl font-bold text-gray-900">My Workflows</h2>
                    <p class="text-gray-600">AI-powered automations for your business</p>
                </div>
                <button class="bg-zapier-orange text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-orange-600">
                    + Create Workflow
                </button>
            </div>

            <!-- Sample Workflows -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <div class="bg-white rounded-lg border border-gray-200 p-6">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="font-semibold text-gray-900">Urgent Email Alert</h3>
                        <div class="flex items-center space-x-2">
                            <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                            <span class="text-sm text-green-600">Active</span>
                        </div>
                    </div>
                    <p class="text-gray-600 text-sm mb-6">When AI detects urgent emails, send SMS notification and create priority task</p>
                    
                    <div class="space-y-4">
                        <div class="workflow-step flex items-center space-x-3">
                            <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center">
                                <span class="text-blue-600">üìß</span>
                            </div>
                            <div>
                                <h4 class="font-medium text-gray-900">Email received</h4>
                                <p class="text-sm text-gray-600">AI classifies as URGENT</p>
                            </div>
                        </div>
                        
                        <div class="workflow-step flex items-center space-x-3">
                            <div class="w-10 h-10 bg-zapier-orange bg-opacity-10 rounded-lg flex items-center justify-center">
                                <span class="text-zapier-orange">üì±</span>
                            </div>
                            <div>
                                <h4 class="font-medium text-gray-900">Send SMS alert</h4>
                                <p class="text-sm text-gray-600">Immediate notification</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mt-6 pt-6 border-t border-gray-200">
                        <div class="flex items-center justify-between">
                            <span class="text-sm text-gray-600">Ran 23 times this week</span>
                            <span class="text-sm font-medium text-green-600">98% success rate</span>
                        </div>
                    </div>
                </div>

                <div class="bg-white rounded-lg border border-gray-200 p-6">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="font-semibold text-gray-900">Client Response Generator</h3>
                        <div class="flex items-center space-x-2">
                            <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                            <span class="text-sm text-green-600">Active</span>
                        </div>
                    </div>
                    <p class="text-gray-600 text-sm mb-6">Generate professional responses for client inquiries based on business type</p>
                    
                    <div class="space-y-4">
                        <div class="workflow-step flex items-center space-x-3">
                            <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center">
                                <span class="text-green-600">üë§</span>
                            </div>
                            <div>
                                <h4 class="font-medium text-gray-900">Client email detected</h4>
                                <p class="text-sm text-gray-600">AI identifies client inquiry</p>
                            </div>
                        </div>
                        
                        <div class="workflow-step flex items-center space-x-3">
                            <div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center">
                                <span class="text-purple-600">‚ú®</span>
                            </div>
                            <div>
                                <h4 class="font-medium text-gray-900">Generate response</h4>
                                <p class="text-sm text-gray-600">Business-appropriate reply</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mt-6 pt-6 border-t border-gray-200">
                        <div class="flex items-center justify-between">
                            <span class="text-sm text-gray-600">Ran 45 times this week</span>
                            <span class="text-sm font-medium text-green-600">94% success rate</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Apps Tab -->
        <div id="content-apps" class="space-y-6" style="display: none;">
            <div>
                <h2 class="text-2xl font-bold text-gray-900 mb-2">Connect your apps</h2>
                <p class="text-gray-600">Choose from hundreds of supported applications</p>
            </div>

            <!-- App Categories -->
            <div class="flex space-x-4 border-b border-gray-200">
                <button class="px-4 py-2 text-zapier-orange border-b-2 border-zapier-orange font-medium">All apps</button>
                <button class="px-4 py-2 text-gray-600 hover:text-gray-900">Email</button>
                <button class="px-4 py-2 text-gray-600 hover:text-gray-900">Calendar</button>
                <button class="px-4 py-2 text-gray-600 hover:text-gray-900">Accounting</button>
            </div>

            <!-- Apps Grid -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div class="integration-card bg-white rounded-lg border border-gray-200 p-6 transition-all duration-200">
                    <div class="flex items-center space-x-4 mb-4">
                        <div class="w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center">
                            <span class="text-red-600 text-xl">üìß</span>
                        </div>
                        <div>
                            <h3 class="font-semibold text-gray-900">Gmail</h3>
                            <p class="text-sm text-gray-600">Email automation</p>
                        </div>
                    </div>
                    <p class="text-gray-700 mb-4 text-sm">AI-powered email classification and professional response generation for your business.</p>
                    <button onclick="testAPI('integration')" class="w-full bg-zapier-orange text-white py-2 px-4 rounded-lg hover:bg-orange-600 transition-colors font-medium">
                        Connect Gmail
                    </button>
                </div>

                <div class="integration-card bg-white rounded-lg border border-gray-200 p-6 transition-all duration-200">
                    <div class="flex items-center space-x-4 mb-4">
                        <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center">
                            <span class="text-blue-600 text-xl">üìÖ</span>
                        </div>
                        <div>
                            <h3 class="font-semibold text-gray-900">Google Calendar</h3>
                            <p class="text-sm text-gray-600">Smart scheduling</p>
                        </div>
                    </div>
                    <p class="text-gray-700 mb-4 text-sm">Automatically schedule meetings and manage your calendar with AI-powered assistance.</p>
                    <button class="w-full border border-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-50 transition-colors font-medium">
                        Connect Calendar
                    </button>
                </div>

                <div class="integration-card bg-white rounded-lg border border-gray-200 p-6 transition-all duration-200">
                    <div class="flex items-center space-x-4 mb-4">
                        <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center">
                            <span class="text-green-600 text-xl">üí∞</span>
                        </div>
                        <div>
                            <h3 class="font-semibold text-gray-900">QuickBooks</h3>
                            <p class="text-sm text-gray-600">Accounting automation</p>
                        </div>
                    </div>
                    <p class="text-gray-700 mb-4 text-sm">Streamline your bookkeeping with automated expense tracking and invoice generation.</p>
                    <button class="w-full border border-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-50 transition-colors font-medium">
                        Connect QuickBooks
                    </button>
                </div>
            </div>
        </div>

        <!-- AI Insights Tab -->
        <div id="content-ai-insights" class="space-y-6" style="display: none;">
            <div>
                <h2 class="text-2xl font-bold text-gray-900 mb-2">AI Business Insights</h2>
                <p class="text-gray-600">Smart recommendations to optimize your business operations</p>
            </div>

            <div class="bg-white rounded-lg border border-gray-200 p-8">
                <div class="text-center py-12">
                    <div class="w-16 h-16 bg-zapier-orange bg-opacity-10 rounded-full flex items-center justify-center mx-auto mb-4">
                        <span class="text-zapier-orange text-2xl">üß†</span>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-900 mb-2">AI Insights Coming Soon</h3>
                    <p class="text-gray-600 mb-6">Advanced business intelligence and recommendations will be available soon.</p>
                    <button onclick="showTab('home')" class="bg-zapier-orange text-white px-6 py-3 rounded-lg font-medium hover:bg-orange-600">
                        Back to Home
                    </button>
                </div>
            </div>
        </div>
    </main>

    <!-- API Response Modal -->
    <div id="api-response" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50" style="display: none;">
        <div class="bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-96 overflow-auto">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-semibold text-gray-900">API Response</h3>
                <button onclick="hideResponse()" class="text-gray-500 hover:text-gray-700 text-xl">&times;</button>
            </div>
            <pre id="response-content" class="bg-gray-50 p-4 rounded-lg text-sm overflow-auto"></pre>
        </div>
    </div>

    <script>
        let currentTab = 'home';
        let userToken = null;

        // Tab Management
        function showTab(tabId) {
            // Hide all content
            document.querySelectorAll('[id^="content-"]').forEach(el => el.style.display = 'none');
            
            // Show selected content
            document.getElementById(`content-${tabId}`).style.display = 'block';
            
            // Update tab styling
            document.querySelectorAll('[id^="tab-"]').forEach(btn => {
                btn.classList.remove('active-tab');
                btn.classList.add('text-zapier-gray');
            });
            
            document.getElementById(`tab-${tabId}`).classList.add('active-tab');
            document.getElementById(`tab-${tabId}`).classList.remove('text-zapier-gray');
            
            currentTab = tabId;
        }

        // API Testing Functions
        async function testAPI(type) {
            let response, data;
            
            try {
                switch (type) {
                    case 'classify':
                        if (!userToken) {
                            alert('Please register a user first to test AI features!');
                            return;
                        }
                        response = await fetch('http://localhost:3001/api/ai/email/classify', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json',
                                'Authorization': `Bearer ${userToken}`
                            },
                            body: JSON.stringify({
                                subject: 'Urgent: Legal consultation needed ASAP',
                                body: 'Hi, I need immediate legal advice regarding a contract dispute. This is time sensitive and could affect our business significantly.',
                                from: 'client@lawfirm.com'
                            })
                        });
                        break;
                        
                    case 'response':
                        if (!userToken) {
                            alert('Please register a user first to test AI features!');
                            return;
                        }
                        response = await fetch('http://localhost:3001/api/ai/email/generate-response', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json',
                                'Authorization': `Bearer ${userToken}`
                            },
                            body: JSON.stringify({
                                originalSubject: 'Question about legal services for small business',
                                originalBody: 'Hi, I need some advice about my business legal requirements and contract review services.',
                                from: 'business@client.com',
                                classification: 'CLIENT'
                            })
                        });
                        break;
                        
                    case 'signup':
                        response = await fetch('http://localhost:3001/api/auth/signup', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify({
                                email: `demo${Date.now()}@example.com`,
                                password: 'DemoPass123!',
                                name: 'Demo User',
                                businessName: 'Demo Law Firm',
                                businessType: 'LAW'
                            })
                        });
                        if (response.ok) {
                            const signupData = await response.json();
                            if (signupData.success && signupData.data.accessToken) {
                                userToken = signupData.data.accessToken;
                                alert('‚úÖ User registered successfully! You can now test all AI features.');
                            }
                        }
                        break;
                        
                    case 'integration':
                        if (!userToken) {
                            alert('Please register a user first to test integrations!');
                            return;
                        }
                        response = await fetch('http://localhost:3001/api/integrations/connect/GMAIL', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json',
                                'Authorization': `Bearer ${userToken}`
                            },
                            body: JSON.stringify({})
                        });
                        break;
                }
                
                data = await response.json();
                showResponse(JSON.stringify(data, null, 2));
                
            } catch (error) {
                showResponse(`Error: ${error.message}`);
            }
        }

        function showResponse(content) {
            document.getElementById('api-response').style.display = 'flex';
            document.getElementById('response-content').textContent = content;
        }

        function hideResponse() {
            document.getElementById('api-response').style.display = 'none';
        }

        // Load Platform Data
        async function loadData() {
            try {
                // Check backend status
                const healthResponse = await fetch('http://localhost:3001/health');
                if (healthResponse.ok) {
                    document.getElementById('backend-status').textContent = 'AI Active';
                } else {
                    document.getElementById('backend-status').textContent = 'Offline';
                }
                
                // Load platform stats
                const infoResponse = await fetch('http://localhost:3001/api/info');
                const infoData = await infoResponse.json();
                
                if (infoData.success) {
                    const emailsProcessed = Math.floor(Math.random() * 150) + 50;
                    const timeSaved = Math.floor(Math.random() * 40) + 10;
                    
                    document.getElementById('emails-processed').textContent = emailsProcessed;
                    document.getElementById('time-saved').textContent = timeSaved + 'h';
                    document.getElementById('integrations-count').textContent = infoData.data.activeIntegrations;
                    document.getElementById('workflows-count').textContent = infoData.data.runningAutomations;
                }
                
            } catch (error) {
                console.error('Failed to load data:', error);
                document.getElementById('backend-status').textContent = 'Connection Failed';
            }
        }

        // Initialize
        loadData();
        setInterval(loadData, 30000); // Refresh every 30 seconds
    </script>
</body>
</html>